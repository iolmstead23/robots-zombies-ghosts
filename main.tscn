[gd_scene load_steps=10 format=4 uid="uid://c0ainp474es8e"]

[ext_resource type="Script" uid="uid://de0cnd67yj7gq" path="res://main.gd" id="1_4c57u"]
[ext_resource type="PackedScene" uid="uid://c0ajtsn61q85p" path="res://Environment/Terrain/Dirt/dirt.tscn" id="2_h2yge"]
[ext_resource type="PackedScene" uid="uid://bhvhc1f11qh4e" path="res://Environment/Terrain/Stone/stone.tscn" id="3_1bvp3"]
[ext_resource type="Texture2D" uid="uid://dq3cucr1dt6m3" path="res://Environment/Walls/Stone/stone_wall.png" id="5_lquwl"]
[ext_resource type="PackedScene" uid="uid://bmdgbb7lsxnxm" path="res://Environment/Dungeon Objects/Breakable/barrels.tscn" id="6_5vw27"]
[ext_resource type="Script" uid="uid://8xlw2qfjncsq" path="res://Controllers/SessionController/Core/session_controller.gd" id="7_272bh"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_lquwl"]
vertices = PackedVector2Array(667.9219, -667.85156, 2269.4531, 131.92188, 602.1406, -369.4297, 575.96875, -399.52344, 208.07813, -445.2578, 533.3672, -404.1328, 492.4297, -394.4297, 430.35156, -361.25, 1187.9375, 662.8828, 861.22656, 506.5078, 870.0781, 500.97656, 414.96875, 180.74219, -305.20313, -188.45313, -245.96875, -225.46094, 412.9297, -323.92188, 776.77344, -220.39063, 789.1406, -262.4297, 955.0078, 459.53906, 957.0703, 462.6328, 986.84375, 444, 1083.7891, 396.6875, 1085.0781, 398.6172, 1103.6094, 387.03125, 1303.8672, 289.3125, 1304.1172, 277.10156, 777.09375, -7.3125, 750.0625, -197.02344, 718.8125, -176.53906, 599.1406, 5.5703125, 661.5703, -165.74219, 572.96875, -24.523438, 618.96875, -177.57031, -199.35938, -248.02344, -194.92969, -241.36719, -132.46094, -280.40625, -70.34375, -310.47656, -66.9375, -305.3672, -18.953125, -335.35938, 58.710938, -372.95313, 61.109375, -369.39844, 94.5625, -390.3125, 187.71094, -435.39844, 189.07031, -433.3672, 530.3672, -29.132813, 586.77344, 47.609375, 599.9297, -216.92188, 489.4297, -19.429688, 762.96875, -292.52344, 720.3672, -297.1328, 679.4297, -287.4297, 589.77344, -327.39063, 617.35156, -254.25, 563.0625, -304.02344, 531.8125, -283.53906, 474.5703, -272.7422, 431.96875, -284.5703, 427.35156, 13.75, 409.9297, 51.078125, 428.96875, 90.42969, 471.5703, 102.25781, 528.8125, 91.46094, 560.0625, 70.97656)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(0, 2, 3), PackedInt32Array(4, 0, 3), PackedInt32Array(4, 3, 5), PackedInt32Array(4, 5, 6), PackedInt32Array(4, 6, 7), PackedInt32Array(8, 9, 10), PackedInt32Array(11, 12, 13), PackedInt32Array(4, 7, 14), PackedInt32Array(15, 16, 1), PackedInt32Array(10, 17, 18), PackedInt32Array(8, 10, 18), PackedInt32Array(8, 18, 19), PackedInt32Array(8, 19, 20), PackedInt32Array(8, 20, 21), PackedInt32Array(1, 8, 21), PackedInt32Array(1, 21, 22), PackedInt32Array(1, 22, 23), PackedInt32Array(1, 23, 24), PackedInt32Array(15, 1, 24), PackedInt32Array(15, 24, 25), PackedInt32Array(26, 15, 25), PackedInt32Array(27, 26, 25), PackedInt32Array(27, 25, 28), PackedInt32Array(29, 27, 28), PackedInt32Array(29, 28, 30), PackedInt32Array(31, 29, 30), PackedInt32Array(13, 32, 33), PackedInt32Array(11, 13, 33), PackedInt32Array(11, 33, 34), PackedInt32Array(34, 35, 36), PackedInt32Array(11, 34, 36), PackedInt32Array(11, 36, 37), PackedInt32Array(11, 37, 38), PackedInt32Array(11, 38, 39), PackedInt32Array(11, 39, 40), PackedInt32Array(11, 40, 41), PackedInt32Array(11, 41, 42), PackedInt32Array(31, 30, 43), PackedInt32Array(11, 42, 4), PackedInt32Array(44, 28, 25), PackedInt32Array(45, 31, 43), PackedInt32Array(45, 43, 46), PackedInt32Array(1, 16, 47), PackedInt32Array(2, 1, 47), PackedInt32Array(2, 47, 48), PackedInt32Array(2, 48, 49), PackedInt32Array(50, 2, 49), PackedInt32Array(50, 49, 51), PackedInt32Array(52, 50, 51), PackedInt32Array(53, 52, 51), PackedInt32Array(53, 51, 45), PackedInt32Array(53, 45, 46), PackedInt32Array(54, 53, 46), PackedInt32Array(55, 54, 46), PackedInt32Array(55, 46, 56), PackedInt32Array(4, 14, 55), PackedInt32Array(4, 55, 56), PackedInt32Array(4, 56, 57), PackedInt32Array(11, 4, 57), PackedInt32Array(11, 57, 58), PackedInt32Array(11, 58, 59), PackedInt32Array(11, 59, 60), PackedInt32Array(25, 11, 60), PackedInt32Array(25, 60, 61), PackedInt32Array(25, 61, 44)])
outlines = Array[PackedVector2Array]([PackedVector2Array(668, -679, 2292, 132, 1188, 674, 837, 506, 1294, 283, 777, 4, 415, 192, -336, -193)])
sample_partition_type = 1

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_7mycd"]
texture = ExtResource("5_lquwl")
texture_region_size = Vector2i(256, 512)
3:0/0 = 0
3:0/0/y_sort_origin = 150
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-96, 208, 0, 160, 96, 208, 128, 192, 0, 112, -128, 176)
4:0/0 = 0
4:0/0/y_sort_origin = 180
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, 224, 0, 256, 128, 192, 12.200806, 105.90323, -32, 128, 48, 176)
5:0/0 = 0
5:0/0/y_sort_origin = 150
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-96, 224, 32, 144, 0, 96, -128, 176)
6:0/0 = 0
6:0/0/y_sort_origin = 190
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, 256, 48, 224, -96, 160, -128, 192)
0:0/0 = 0
0:0/0/y_sort_origin = 190
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, 208, 0, 256, 128, 192, 96, 144)
1:0/0 = 0
1:0/0/y_sort_origin = 180
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, 192, -18.149963, 261.76337, 32, 240, -48, 192, 32, 128, 0, 96)
2:0/0 = 0
2:0/0/y_sort_origin = 190
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, 192, 0.4880371, 256, 128, 192, 128, 128, 0, 192, -128, 128)
7:0/0 = 0
7:0/0/y_sort_origin = 150
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, 144, 96, 208, 128, 192, 0, 112)

[sub_resource type="TileSet" id="TileSet_272bh"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_7mycd")

[node name="Node2D" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_4c57u")

[node name="Ground" type="CanvasGroup" parent="."]
y_sort_enabled = true

[node name="Dirt" parent="Ground" instance=ExtResource("2_h2yge")]
tile_map_data = PackedByteArray("AAAgAN3/AAAAAAEAAAAkAOH/AAABAAEAAAAoAOX/AAABAAEAAAAsAOn/AAABAAEAAAAcANn/AAABAAEAAAAYANX/AAABAAEAAAAUANH/AAABAAEAAAAQANX/AAABAAEAAAAUANn/AAABAAEAAAAYAN3/AAABAAEAAAAcAOH/AAABAAEAAAAgAOX/AAABAAEAAAAkAOn/AAABAAEAAAAoAO3/AAABAAEAAAAkAPH/AAABAAEAAAAgAO3/AAABAAEAAAAcAOn/AAABAAEAAAAYAOX/AAABAAEAAAAUAOH/AAABAAEAAAAQAN3/AAABAAEAAAAMANn/AAABAAEAAAAIAN3/AAABAAEAAAAMAOH/AAABAAEAAAAQAOX/AAABAAEAAAAUAOn/AAABAAEAAAAgAPX/AAABAAEAAAAcAPH/AAABAAEAAAAYAO3/AAABAAEAAAAcAPn/AAABAAEAAAAYAPX/AAABAAEAAAAUAPH/AAABAAEAAAAQAO3/AAABAAEAAAAMAOn/AAABAAEAAAAIAOX/AAABAAEAAAAEAOH/AAABAAEAAAAAAOX/AAABAAEAAAAEAOn/AAABAAEAAAAYAP3/AAABAAEAAAAUAPn/AAABAAEAAAAQAPX/AAABAAEAAAAMAPH/AAABAAEAAAAIAO3/AAABAAEAAAAUAAEAAAABAAEAAAAQAP3/AAABAAEAAAAMAPn/AAABAAEAAAAIAPX/AAABAAEAAAAEAPH/AAABAAEAAAAAAO3/AAABAAEAAAD8/+n/AAABAAEAAAD4/+3/AAABAAEAAAD8//H/AAABAAEAAAAAAPX/AAABAAEAAAAEAPn/AAABAAEAAAAIAP3/AAABAAEAAAAMAAEAAAABAAEAAAAQAAUAAAABAAEAAAD0//H/AAABAAEAAAD4//X/AAABAAEAAAD8//n/AAABAAEAAAAAAP3/AAABAAEAAAAEAAEAAAABAAEAAAAIAAUAAAABAAEAAAAMAAkAAAABAAEAAAAQAA0AAAABAAEAAAAUAAkAAAABAAEAAAAUABEAAAABAAEAAAAYAA0AAAABAAEAAAAYAAUAAAABAAEAAAAcAAkAAAABAAEAAAAYABUAAAABAAEAAAAcABkAAAABAAEAAAAgAB0AAAABAAEAAAAkACEAAAABAAEAAAAcABEAAAABAAEAAAAgABUAAAABAAEAAAAkABkAAAABAAEAAAAoAB0AAAABAAEAAAAgAA0AAAABAAEAAAAkABEAAAABAAEAAAAoABUAAAABAAEAAAAsABkAAAABAAEAAAAoACUAAAABAAEAAAAsACEAAAABAAEAAAAwAB0AAAABAAEAAAAsACkAAAABAAEAAAAoAC0AAAABAAEAAAAkACkAAAABAAEAAAAgACUAAAABAAEAAAAcACEAAAABAAEAAAAwACUAAAABAAEAAAA0ACEAAAABAAEAAAAYAB0AAAABAAEAAAAUABkAAAABAAEAAAAQABUAAAABAAEAAAAMABEAAAABAAEAAAAIAA0AAAABAAEAAAAEAAkAAAABAAEAAAAAAAUAAAABAAEAAAD8/wEAAAABAAEAAAD4//3/AAABAAEAAAD0//n/AAABAAEAAADw//X/AAABAAEAAAA4AB0AAAADAAEAAAA0ABkAAAADAAEAAAAwABUAAAADAAEAAAAsABEAAAADAAEAAAAoAA0AAAADAAEAAAA8ABkAAAADAAEAAAA4ABUAAAADAAEAAAA0ABEAAAADAAEAAAAwAA0AAAADAAEAAABAABUAAAADAAEAAABEABEAAAADAAEAAAA8ABEAAAADAAEAAABAAA0AAAADAAEAAAA4AA0AAAADAAEAAAA8AAkAAAADAAEAAABIAA0AAAADAAEAAABMAAkAAAADAAEAAABEAAkAAAADAAEAAABIAAUAAAADAAEAAABAAAUAAAADAAEAAABEAAEAAAADAAEAAAAkAAkAAAADAAEAAAAgAAUAAAADAAEAAAAcAAEAAAADAAEAAAAgAP3/AAADAAEAAAAkAAEAAAADAAEAAAAoAAUAAAADAAEAAAAsAAkAAAADAAEAAAA0AAkAAAADAAEAAAA4AAUAAAADAAEAAAA8AAEAAAADAAEAAABAAP3/AAADAAEAAABQAAUAAAADAAEAAABMAAEAAAADAAEAAABIAP3/AAADAAEAAABEAPn/AAADAAEAAABAAPX/AAADAAEAAAA8APn/AAADAAEAAAA4AP3/AAADAAEAAAA0AAEAAAADAAEAAAAwAAUAAAADAAEAAAA8APH/AAADAAEAAAA4AO3/AAADAAEAAAA4APX/AAADAAEAAAA0APH/AAADAAEAAAAkAPn/AAADAAEAAAAoAP3/AAADAAEAAAAsAAEAAAADAAEAAAAoAPX/AAADAAEAAAAsAPH/AAADAAEAAAAwAO3/AAADAAEAAAAwAPX/AAAAAAEAAAAsAPn/AAAAAAEAAAAwAP3/AAAAAAEAAAA0APn/AAAAAAEAAAA0AOn/AAAAAAEAAAAwAOX/AAAAAAEAAAAsAOH/AAADAAEAAAAoAN3/AAADAAEAAAAkANn/AAADAAEAAAAgANX/AAADAAEAAAAcANH/AAADAAEAAAAYAM3/AAADAAEAAAAUAMn/AAADAAEAAAAQAM3/AAAAAAEAAAAMANH/AAAAAAEAAAAIANX/AAAAAAEAAAAEANn/AAACAAEAAAAAAN3/AAACAAEAAAD8/+H/AAACAAEAAAD4/+X/AAACAAEAAADs//H/AAADAAEAAADw/+3/AAADAAEAAAD0/+n/AAADAAEAAAAkADEAAAABAAEAAAAgAC0AAAABAAEAAAAcACkAAAABAAEAAAAYACUAAAABAAEAAAAUACEAAAABAAEAAAAQAB0AAAABAAEAAAAMABkAAAABAAEAAAAIABUAAAABAAEAAAAEABEAAAADAAEAAAAAAA0AAAADAAEAAAD8/wkAAAADAAEAAAD4/wUAAAADAAEAAAD0/wEAAAACAAEAAADo//X/AAACAAEAAADs//n/AAACAAEAAADw//3/AAACAAEAAAA=")

[node name="Stone" parent="Ground" instance=ExtResource("3_1bvp3")]
tile_map_data = PackedByteArray("AAAAAPz/AAABAAEAAAABAP3/AAABAAEAAAACAPz/AAABAAEAAAABAPv/AAABAAEAAAADAP3/AAABAAEAAAAEAP7/AAABAAEAAAACAPr/AAABAAEAAAAFAP3/AAABAAEAAAAEAPz/AAADAAEAAAADAPn/AAADAAEAAAAGAPz/AAADAAEAAAAFAPv/AAACAAEAAAAEAPr/AAACAAEAAAADAPv/AAACAAEAAAAHAPv/AAADAAEAAAAIAPz/AAADAAEAAAAHAP3/AAADAAEAAAAFAP//AAABAAEAAAAGAP7/AAABAAEAAAAGAAAAAAABAAEAAAAHAP//AAABAAEAAAAIAP7/AAABAAEAAAAJAP3/AAABAAEAAAAKAPz/AAADAAEAAAAJAPv/AAADAAEAAAAIAPr/AAADAAEAAAAGAPr/AAABAAEAAAAEAPj/AAABAAEAAAD///v/AAADAAEAAAABAPn/AAADAAEAAAAAAPr/AAADAAEAAAACAPj/AAABAAEAAAADAPf/AAABAAEAAAAFAPn/AAABAAEAAAAEAPb/AAADAAEAAAAHAPn/AAADAAEAAAAFAPf/AAADAAEAAAAGAPj/AAABAAEAAAAHAAEAAAACAAEAAAAIAAIAAAACAAEAAAAIAAAAAAACAAEAAAAJAAMAAAADAAEAAAAIAAQAAAADAAEAAAAHAAUAAAADAAEAAAAGAAYAAAADAAEAAAAHAAcAAAADAAEAAAAIAAgAAAADAAEAAAAJAAkAAAAAAAEAAAAIAAYAAAAAAAEAAAAJAAcAAAAAAAEAAAAKAAgAAAADAAEAAAALAAcAAAADAAEAAAAKAAYAAAADAAEAAAAJAAUAAAADAAEAAAAKAAQAAAABAAEAAAALAAUAAAABAAEAAAAMAAYAAAABAAEAAAANAAUAAAABAAEAAAAOAAQAAAABAAEAAAAJAAEAAAADAAEAAAAKAAIAAAADAAEAAAAJAP//AAADAAEAAAAMAAQAAAADAAEAAAALAAMAAAAAAAEAAAAKAAAAAAAAAAEAAAANAAMAAAAAAAEAAAAMAAIAAAADAAEAAAALAAEAAAADAAEAAAAKAP7/AAADAAEAAAALAP//AAADAAEAAAAMAAAAAAADAAEAAAANAAEAAAABAAEAAAAOAAIAAAABAAEAAAAPAAMAAAABAAEAAAALAP3/AAABAAEAAAAMAP7/AAABAAEAAAANAP//AAABAAEAAAAQAAIAAAAAAAEAAAAPAAEAAAAAAAEAAAAOAAAAAAAAAAEAAAA=")

[node name="Camera2D" type="Camera2D" parent="."]
y_sort_enabled = true
position = Vector2(144, -180)
drag_horizontal_enabled = true

[node name="SessionController" type="Node2D" parent="." node_paths=PackedStringArray("navigation_region")]
y_sort_enabled = true
script = ExtResource("7_272bh")
grid_width = 20
grid_height = 15
hex_size = 12.0
navigation_region = NodePath("../NavigationRegion2D")
debug_mode = true

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
y_sort_enabled = true
position = Vector2(-29, 7)
navigation_polygon = SubResource("NavigationPolygon_lquwl")

[node name="Test Barrels 1" parent="NavigationRegion2D" instance=ExtResource("6_5vw27")]
position = Vector2(320, -400)

[node name="Test Barrels 2" parent="NavigationRegion2D" instance=ExtResource("6_5vw27")]
position = Vector2(133, -507)
object_name = "Barrel 2"

[node name="Test Barrels 3" parent="NavigationRegion2D" instance=ExtResource("6_5vw27")]
position = Vector2(130, -132)
object_name = "Barrel 3"

[node name="Walls" type="CanvasGroup" parent="NavigationRegion2D"]
y_sort_enabled = true

[node name="StoneWall" type="TileMapLayer" parent="NavigationRegion2D/Walls"]
y_sort_enabled = true
position = Vector2(0, 1)
tile_map_data = PackedByteArray("AAD6//r/AAABAAAAAAD8//n/AAAFAAAAAAD+//j/AAAFAAAAAAAAAPf/AAAFAAAAAAACAPb/AAAFAAAAAAAEAPX/AAAFAAAAAAAGAPT/AAAFAAAAAAAIAPP/AAAFAAAAAAAKAPL/AAADAAAAAAAMAPP/AAAHAAAAAAAOAPT/AAAHAAAAAAAQAPX/AAAHAAAAAAASAPb/AAAHAAAAAAAUAPf/AAAHAAAAAAAKAP7/AAAAAAAAAAAIAP//AAAAAAAAAAAGAAAAAAACAAAAAAAEAP//AAAGAAAAAAACAP7/AAAGAAAAAAAAAP3/AAAGAAAAAAD+//z/AAAGAAAAAAD8//v/AAAGAAAAAAAWAPj/AAAHAAAAAAAYAPn/AAAHAAAAAAAaAPr/AAAHAAAAAAAcAPv/AAAHAAAAAAAeAPz/AAAHAAAAAAAgAP3/AAAHAAAAAAAiAP7/AAAHAAAAAAAkAP//AAAEAAAAAAAiAAAAAAAAAAAAAAAgAAEAAAAAAAAAAAAeAAIAAAAAAAAAAAAcAAMAAAAAAAAAAAAaAAQAAAAAAAAAAAAMAP//AAAHAAAAAAAOAAAAAAAHAAAAAAAQAAEAAAAHAAAAAAASAAIAAAAFAAAAAAAQAAMAAAAFAAAAAAAOAAQAAAAFAAAAAAAYAAUAAAAAAAAAAAAWAAYAAAAAAAAAAAAUAAcAAAAAAAAAAAAMAAUAAAABAAAAAAASAAgAAAACAAAAAAAOAAYAAAAGAAAAAAAQAAcAAAAGAAAAAAA=")
tile_set = SubResource("TileSet_272bh")

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="NavigationRegion2D/Walls"]
