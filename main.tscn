[gd_scene load_steps=10 format=4 uid="uid://c0ainp474es8e"]

[ext_resource type="Script" uid="uid://de0cnd67yj7gq" path="res://main.gd" id="1_4c57u"]
[ext_resource type="PackedScene" uid="uid://c0ajtsn61q85p" path="res://Environment/Terrain/Dirt/dirt.tscn" id="2_h2yge"]
[ext_resource type="PackedScene" uid="uid://bhvhc1f11qh4e" path="res://Environment/Terrain/Stone/stone.tscn" id="3_1bvp3"]
[ext_resource type="Texture2D" uid="uid://dq3cucr1dt6m3" path="res://Environment/Walls/Stone/stone_wall.png" id="5_lquwl"]
[ext_resource type="PackedScene" uid="uid://bmdgbb7lsxnxm" path="res://Environment/Dungeon Objects/Breakable/barrels.tscn" id="6_5vw27"]
[ext_resource type="Script" uid="uid://8xlw2qfjncsq" path="res://Controllers/SessionController/Core/session_controller.gd" id="7_272bh"]

[sub_resource type="NavigationPolygon" id="NavigationPolygon_lquwl"]
vertices = PackedVector2Array(1377.9688, -85.57031, 1420.5703, -73.74219, 1156.1406, -61.429688, 1334.1406, -194.42969, 1438.4297, -195.42969, 1376.3516, -162.25, 1187.9375, 662.8828, 861.22656, 506.5078, 870.0781, 500.97656, 414.96875, 180.74219, -305.20313, -188.45313, -245.96875, -225.46094, 1321.7734, -152.39063, 1358.9297, -124.921875, 1535.7734, -128.39063, 1548.1406, -170.42969, 2269.4531, 131.92188, 1350.7734, 23.609375, 1363.1406, -18.429688, 955.0078, 459.53906, 957.0703, 462.6328, 986.84375, 444, 1083.7891, 396.6875, 1085.0781, 398.6172, 1103.6094, 387.03125, 1303.8672, 289.3125, 1304.1172, 277.10156, 1324.0625, 46.976563, 1292.8125, 67.46094, 1235.5703, 78.25781, 777.09375, -7.3125, 1192.9688, 66.42969, -199.35938, -248.02344, -194.92969, -241.36719, -132.46094, -280.40625, -70.34375, -310.47656, -66.9375, -305.3672, -18.953125, -335.35938, 58.710938, -372.95313, 61.109375, -369.39844, 94.5625, -390.3125, 187.71094, -435.39844, 189.07031, -433.3672, 208.07813, -445.2578, 667.9219, -667.85156, 1295.0625, -129.02344, 1509.0625, -105.02344, 1477.8125, -84.53906, 1336.9688, -48.523438, 1307.9688, -224.52344, 1263.8125, -108.53906, 1206.5703, -97.74219, 1163.9688, -109.57031, 1129.9688, -91.52344, 1144.9297, -148.92188, 1087.3672, -96.13281, 1046.4297, -86.42969, 1162.3516, -186.25, 1521.9688, -200.52344, 1479.3672, -205.13281, 1265.3672, -229.13281, 1224.4297, -219.42969, 984.35156, -53.25, 966.9297, -15.921875, 985.96875, 23.429688, 1294.3672, -53.132813, 1253.4297, -43.429688, 1191.3516, -10.25, 1143.7734, -19.390625, 1173.9297, 27.078125, 1117.0625, 3.9765625, 1085.8125, 24.460938, 1028.5703, 35.257813)
polygons = Array[PackedInt32Array]([PackedInt32Array(0, 1, 2), PackedInt32Array(3, 4, 5), PackedInt32Array(6, 7, 8), PackedInt32Array(9, 10, 11), PackedInt32Array(12, 3, 5), PackedInt32Array(12, 5, 13), PackedInt32Array(13, 0, 2), PackedInt32Array(14, 15, 16), PackedInt32Array(17, 18, 16), PackedInt32Array(8, 19, 20), PackedInt32Array(6, 8, 20), PackedInt32Array(6, 20, 21), PackedInt32Array(6, 21, 22), PackedInt32Array(6, 22, 23), PackedInt32Array(16, 6, 23), PackedInt32Array(16, 23, 24), PackedInt32Array(16, 24, 25), PackedInt32Array(17, 16, 25), PackedInt32Array(17, 25, 26), PackedInt32Array(27, 17, 26), PackedInt32Array(28, 27, 26), PackedInt32Array(29, 28, 26), PackedInt32Array(29, 26, 30), PackedInt32Array(31, 29, 30), PackedInt32Array(11, 32, 33), PackedInt32Array(9, 11, 33), PackedInt32Array(9, 33, 34), PackedInt32Array(34, 35, 36), PackedInt32Array(9, 34, 36), PackedInt32Array(9, 36, 37), PackedInt32Array(9, 37, 38), PackedInt32Array(9, 38, 39), PackedInt32Array(9, 39, 40), PackedInt32Array(9, 40, 41), PackedInt32Array(9, 41, 42), PackedInt32Array(30, 9, 42), PackedInt32Array(30, 42, 43), PackedInt32Array(30, 43, 44), PackedInt32Array(45, 12, 13), PackedInt32Array(46, 14, 16), PackedInt32Array(47, 46, 16), PackedInt32Array(47, 16, 18), PackedInt32Array(1, 47, 18), PackedInt32Array(1, 18, 48), PackedInt32Array(4, 3, 49), PackedInt32Array(50, 45, 13), PackedInt32Array(50, 13, 2), PackedInt32Array(51, 50, 2), PackedInt32Array(52, 51, 2), PackedInt32Array(52, 2, 53), PackedInt32Array(54, 52, 53), PackedInt32Array(54, 53, 55), PackedInt32Array(54, 55, 56), PackedInt32Array(57, 54, 56), PackedInt32Array(16, 15, 58), PackedInt32Array(44, 16, 58), PackedInt32Array(44, 58, 59), PackedInt32Array(44, 59, 4), PackedInt32Array(44, 4, 49), PackedInt32Array(44, 49, 60), PackedInt32Array(44, 60, 61), PackedInt32Array(30, 44, 61), PackedInt32Array(30, 61, 57), PackedInt32Array(30, 57, 56), PackedInt32Array(30, 56, 62), PackedInt32Array(30, 62, 63), PackedInt32Array(30, 63, 64), PackedInt32Array(1, 48, 65), PackedInt32Array(2, 1, 65), PackedInt32Array(2, 65, 66), PackedInt32Array(2, 66, 67), PackedInt32Array(68, 2, 67), PackedInt32Array(68, 67, 69), PackedInt32Array(70, 68, 69), PackedInt32Array(71, 70, 69), PackedInt32Array(71, 69, 31), PackedInt32Array(72, 71, 31), PackedInt32Array(72, 31, 30), PackedInt32Array(30, 64, 72)])
outlines = Array[PackedVector2Array]([PackedVector2Array(668, -679, 2292, 132, 1188, 674, 837, 506, 1294, 283, 777, 4, 415, 192, -336, -193)])
sample_partition_type = 1

[sub_resource type="TileSetAtlasSource" id="TileSetAtlasSource_7mycd"]
texture = ExtResource("5_lquwl")
texture_region_size = Vector2i(256, 512)
3:0/0 = 0
3:0/0/y_sort_origin = 150
3:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-96, 208, 0, 160, 96, 208, 128, 192, 0, 112, -128, 176)
4:0/0 = 0
4:0/0/y_sort_origin = 180
4:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, 224, 0, 256, 128, 192, 12.200806, 105.90323, -32, 128, 48, 176)
5:0/0 = 0
5:0/0/y_sort_origin = 150
5:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-96, 224, 32, 144, 0, 96, -128, 176)
6:0/0 = 0
6:0/0/y_sort_origin = 190
6:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(0, 256, 48, 224, -96, 160, -128, 192)
0:0/0 = 0
0:0/0/y_sort_origin = 190
0:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, 208, 0, 256, 128, 192, 96, 144)
1:0/0 = 0
1:0/0/y_sort_origin = 180
1:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, 192, -18.149963, 261.76337, 32, 240, -48, 192, 32, 128, 0, 96)
2:0/0 = 0
2:0/0/y_sort_origin = 190
2:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-128, 192, 0.4880371, 256, 128, 192, 128, 128, 0, 192, -128, 128)
7:0/0 = 0
7:0/0/y_sort_origin = 150
7:0/0/physics_layer_0/polygon_0/points = PackedVector2Array(-32, 144, 96, 208, 128, 192, 0, 112)

[sub_resource type="TileSet" id="TileSet_272bh"]
tile_size = Vector2i(64, 64)
physics_layer_0/collision_layer = 1
sources/0 = SubResource("TileSetAtlasSource_7mycd")

[node name="Node2D" type="Node2D"]
y_sort_enabled = true
script = ExtResource("1_4c57u")

[node name="Ground" type="CanvasGroup" parent="."]
y_sort_enabled = true

[node name="Dirt" parent="Ground" instance=ExtResource("2_h2yge")]
tile_map_data = PackedByteArray("AAAgAN3/AAAAAAEAAAAkAOH/AAABAAEAAAAoAOX/AAABAAEAAAAsAOn/AAABAAEAAAAcANn/AAABAAEAAAAYANX/AAABAAEAAAAUANH/AAABAAEAAAAQANX/AAABAAEAAAAUANn/AAABAAEAAAAYAN3/AAABAAEAAAAcAOH/AAABAAEAAAAgAOX/AAABAAEAAAAkAOn/AAABAAEAAAAoAO3/AAABAAEAAAAkAPH/AAABAAEAAAAgAO3/AAABAAEAAAAcAOn/AAABAAEAAAAYAOX/AAABAAEAAAAUAOH/AAABAAEAAAAQAN3/AAABAAEAAAAMANn/AAABAAEAAAAIAN3/AAABAAEAAAAMAOH/AAABAAEAAAAQAOX/AAABAAEAAAAUAOn/AAABAAEAAAAgAPX/AAABAAEAAAAcAPH/AAABAAEAAAAYAO3/AAABAAEAAAAcAPn/AAABAAEAAAAYAPX/AAABAAEAAAAUAPH/AAABAAEAAAAQAO3/AAABAAEAAAAMAOn/AAABAAEAAAAIAOX/AAABAAEAAAAEAOH/AAABAAEAAAAAAOX/AAABAAEAAAAEAOn/AAABAAEAAAAYAP3/AAABAAEAAAAUAPn/AAABAAEAAAAQAPX/AAABAAEAAAAMAPH/AAABAAEAAAAIAO3/AAABAAEAAAAUAAEAAAABAAEAAAAQAP3/AAABAAEAAAAMAPn/AAABAAEAAAAIAPX/AAABAAEAAAAEAPH/AAABAAEAAAAAAO3/AAABAAEAAAD8/+n/AAABAAEAAAD4/+3/AAABAAEAAAD8//H/AAABAAEAAAAAAPX/AAABAAEAAAAEAPn/AAABAAEAAAAIAP3/AAABAAEAAAAMAAEAAAABAAEAAAAQAAUAAAABAAEAAAD0//H/AAABAAEAAAD4//X/AAABAAEAAAD8//n/AAABAAEAAAAAAP3/AAABAAEAAAAEAAEAAAABAAEAAAAIAAUAAAABAAEAAAAMAAkAAAABAAEAAAAQAA0AAAABAAEAAAAUAAkAAAABAAEAAAAUABEAAAABAAEAAAAYAA0AAAABAAEAAAAYAAUAAAABAAEAAAAcAAkAAAABAAEAAAAYABUAAAABAAEAAAAcABkAAAABAAEAAAAgAB0AAAABAAEAAAAkACEAAAABAAEAAAAcABEAAAABAAEAAAAgABUAAAABAAEAAAAkABkAAAABAAEAAAAoAB0AAAABAAEAAAAgAA0AAAABAAEAAAAkABEAAAABAAEAAAAoABUAAAABAAEAAAAsABkAAAABAAEAAAAoACUAAAABAAEAAAAsACEAAAABAAEAAAAwAB0AAAABAAEAAAAsACkAAAABAAEAAAAoAC0AAAABAAEAAAAkACkAAAABAAEAAAAgACUAAAABAAEAAAAcACEAAAABAAEAAAAwACUAAAABAAEAAAA0ACEAAAABAAEAAAAYAB0AAAABAAEAAAAUABkAAAABAAEAAAAQABUAAAABAAEAAAAMABEAAAABAAEAAAAIAA0AAAABAAEAAAAEAAkAAAABAAEAAAAAAAUAAAABAAEAAAD8/wEAAAABAAEAAAD4//3/AAABAAEAAAD0//n/AAABAAEAAADw//X/AAABAAEAAAA4AB0AAAADAAEAAAA0ABkAAAADAAEAAAAwABUAAAADAAEAAAAsABEAAAADAAEAAAAoAA0AAAADAAEAAAA8ABkAAAADAAEAAAA4ABUAAAADAAEAAAA0ABEAAAADAAEAAAAwAA0AAAADAAEAAABAABUAAAADAAEAAABEABEAAAADAAEAAAA8ABEAAAADAAEAAABAAA0AAAADAAEAAAA4AA0AAAADAAEAAAA8AAkAAAADAAEAAABIAA0AAAADAAEAAABMAAkAAAADAAEAAABEAAkAAAADAAEAAABIAAUAAAADAAEAAABAAAUAAAADAAEAAABEAAEAAAADAAEAAAAkAAkAAAADAAEAAAAgAAUAAAADAAEAAAAcAAEAAAADAAEAAAAgAP3/AAADAAEAAAAkAAEAAAADAAEAAAAoAAUAAAADAAEAAAAsAAkAAAADAAEAAAA0AAkAAAADAAEAAAA4AAUAAAADAAEAAAA8AAEAAAADAAEAAABAAP3/AAADAAEAAABQAAUAAAADAAEAAABMAAEAAAADAAEAAABIAP3/AAADAAEAAABEAPn/AAADAAEAAABAAPX/AAADAAEAAAA8APn/AAADAAEAAAA4AP3/AAADAAEAAAA0AAEAAAADAAEAAAAwAAUAAAADAAEAAAA8APH/AAADAAEAAAA4AO3/AAADAAEAAAA4APX/AAADAAEAAAA0APH/AAADAAEAAAAkAPn/AAADAAEAAAAoAP3/AAADAAEAAAAsAAEAAAADAAEAAAAoAPX/AAADAAEAAAAsAPH/AAADAAEAAAAwAO3/AAADAAEAAAAwAPX/AAAAAAEAAAAsAPn/AAAAAAEAAAAwAP3/AAAAAAEAAAA0APn/AAAAAAEAAAA0AOn/AAAAAAEAAAAwAOX/AAAAAAEAAAAsAOH/AAADAAEAAAAoAN3/AAADAAEAAAAkANn/AAADAAEAAAAgANX/AAADAAEAAAAcANH/AAADAAEAAAAYAM3/AAADAAEAAAAUAMn/AAADAAEAAAAQAM3/AAAAAAEAAAAMANH/AAAAAAEAAAAIANX/AAAAAAEAAAAEANn/AAACAAEAAAAAAN3/AAACAAEAAAD8/+H/AAACAAEAAAD4/+X/AAACAAEAAADs//H/AAADAAEAAADw/+3/AAADAAEAAAD0/+n/AAADAAEAAAAkADEAAAABAAEAAAAgAC0AAAABAAEAAAAcACkAAAABAAEAAAAYACUAAAABAAEAAAAUACEAAAABAAEAAAAQAB0AAAABAAEAAAAMABkAAAABAAEAAAAIABUAAAABAAEAAAAEABEAAAADAAEAAAAAAA0AAAADAAEAAAD8/wkAAAADAAEAAAD4/wUAAAADAAEAAAD0/wEAAAACAAEAAADo//X/AAACAAEAAADs//n/AAACAAEAAADw//3/AAACAAEAAAA=")

[node name="Stone" parent="Ground" instance=ExtResource("3_1bvp3")]
tile_map_data = PackedByteArray("AAAAAPz/AAABAAEAAAABAP3/AAABAAEAAAACAPz/AAABAAEAAAABAPv/AAABAAEAAAADAP3/AAABAAEAAAAEAP7/AAABAAEAAAACAPr/AAABAAEAAAAFAP3/AAABAAEAAAAEAPz/AAADAAEAAAADAPn/AAADAAEAAAAGAPz/AAADAAEAAAAFAPv/AAACAAEAAAAEAPr/AAACAAEAAAADAPv/AAACAAEAAAAHAPv/AAADAAEAAAAIAPz/AAADAAEAAAAHAP3/AAADAAEAAAAFAP//AAABAAEAAAAGAP7/AAABAAEAAAAGAAAAAAABAAEAAAAHAP//AAABAAEAAAAIAP7/AAABAAEAAAAJAP3/AAABAAEAAAAKAPz/AAADAAEAAAAJAPv/AAADAAEAAAAIAPr/AAADAAEAAAAGAPr/AAABAAEAAAAEAPj/AAABAAEAAAD///v/AAADAAEAAAABAPn/AAADAAEAAAAAAPr/AAADAAEAAAACAPj/AAABAAEAAAADAPf/AAABAAEAAAAFAPn/AAABAAEAAAAEAPb/AAADAAEAAAAHAPn/AAADAAEAAAAFAPf/AAADAAEAAAAGAPj/AAABAAEAAAAHAAEAAAACAAEAAAAIAAIAAAACAAEAAAAIAAAAAAACAAEAAAAJAAMAAAADAAEAAAAIAAQAAAADAAEAAAAHAAUAAAADAAEAAAAGAAYAAAADAAEAAAAHAAcAAAADAAEAAAAIAAgAAAADAAEAAAAJAAkAAAAAAAEAAAAIAAYAAAAAAAEAAAAJAAcAAAAAAAEAAAAKAAgAAAADAAEAAAALAAcAAAADAAEAAAAKAAYAAAADAAEAAAAJAAUAAAADAAEAAAAKAAQAAAABAAEAAAALAAUAAAABAAEAAAAMAAYAAAABAAEAAAANAAUAAAABAAEAAAAOAAQAAAABAAEAAAAJAAEAAAADAAEAAAAKAAIAAAADAAEAAAAJAP//AAADAAEAAAAMAAQAAAADAAEAAAALAAMAAAAAAAEAAAAKAAAAAAAAAAEAAAANAAMAAAAAAAEAAAAMAAIAAAADAAEAAAALAAEAAAADAAEAAAAKAP7/AAADAAEAAAALAP//AAADAAEAAAAMAAAAAAADAAEAAAANAAEAAAABAAEAAAAOAAIAAAABAAEAAAAPAAMAAAABAAEAAAALAP3/AAABAAEAAAAMAP7/AAABAAEAAAANAP//AAABAAEAAAAQAAIAAAAAAAEAAAAPAAEAAAAAAAEAAAAOAAAAAAAAAAEAAAA=")

[node name="Camera2D" type="Camera2D" parent="."]
y_sort_enabled = true
position = Vector2(144, -180)

[node name="SessionController" type="Node2D" parent="." node_paths=PackedStringArray("navigation_region")]
y_sort_enabled = true
script = ExtResource("7_272bh")
hex_size = 12.0
navigation_region = NodePath("../NavigationRegion2D")
debug_mode = false

[node name="NavigationRegion2D" type="NavigationRegion2D" parent="."]
y_sort_enabled = true
position = Vector2(-29, 7)
navigation_polygon = SubResource("NavigationPolygon_lquwl")

[node name="Test Barrels 1" parent="NavigationRegion2D" instance=ExtResource("6_5vw27")]
position = Vector2(687, -199)

[node name="Test Barrels 2" parent="NavigationRegion2D" instance=ExtResource("6_5vw27")]
position = Vector2(894, -156)
object_name = "Barrel 2"

[node name="Test Barrels 3" parent="NavigationRegion2D" instance=ExtResource("6_5vw27")]
position = Vector2(865, -332)
object_name = "Barrel 3"

[node name="Test Barrels 4" parent="NavigationRegion2D" instance=ExtResource("6_5vw27")]
position = Vector2(1079, -308)
object_name = "Barrel 4"

[node name="Walls" type="CanvasGroup" parent="NavigationRegion2D"]
y_sort_enabled = true

[node name="StoneWall" type="TileMapLayer" parent="NavigationRegion2D/Walls"]
y_sort_enabled = true
position = Vector2(0, 1)
tile_map_data = PackedByteArray("AAD6//r/AAABAAAAAAD8//n/AAAFAAAAAAD+//j/AAAFAAAAAAAAAPf/AAAFAAAAAAACAPb/AAAFAAAAAAAEAPX/AAAFAAAAAAAGAPT/AAAFAAAAAAAIAPP/AAAFAAAAAAAKAPL/AAADAAAAAAAMAPP/AAAHAAAAAAAOAPT/AAAHAAAAAAAQAPX/AAAHAAAAAAASAPb/AAAHAAAAAAAUAPf/AAAHAAAAAAAKAP7/AAAAAAAAAAAIAP//AAAAAAAAAAAGAAAAAAACAAAAAAAEAP//AAAGAAAAAAACAP7/AAAGAAAAAAAAAP3/AAAGAAAAAAD+//z/AAAGAAAAAAD8//v/AAAGAAAAAAAWAPj/AAAHAAAAAAAYAPn/AAAHAAAAAAAaAPr/AAAHAAAAAAAcAPv/AAAHAAAAAAAeAPz/AAAHAAAAAAAgAP3/AAAHAAAAAAAiAP7/AAAHAAAAAAAkAP//AAAEAAAAAAAiAAAAAAAAAAAAAAAgAAEAAAAAAAAAAAAeAAIAAAAAAAAAAAAcAAMAAAAAAAAAAAAaAAQAAAAAAAAAAAAMAP//AAAHAAAAAAAOAAAAAAAHAAAAAAAQAAEAAAAHAAAAAAASAAIAAAAFAAAAAAAQAAMAAAAFAAAAAAAOAAQAAAAFAAAAAAAYAAUAAAAAAAAAAAAWAAYAAAAAAAAAAAAUAAcAAAAAAAAAAAAMAAUAAAABAAAAAAASAAgAAAACAAAAAAAOAAYAAAAGAAAAAAAQAAcAAAAGAAAAAAA=")
tile_set = SubResource("TileSet_272bh")

[node name="NavigationObstacle2D" type="NavigationObstacle2D" parent="NavigationRegion2D/Walls"]
